# üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø: –ü—Ä–æ–±–ª–µ–º–∞ –ø–∞–º—è—Ç–∏ –ø–æ—Å–ª–µ 500-600 –ø–æ—Å—Ç–æ–≤

## ‚úÖ –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∫—Ä–∏–ø—Ç –ø–∞–¥–∞–ª/—Ä–∞–±–æ—Ç–∞–ª –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ—Å–ª–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è 500-600 –ø–æ—Å—Ç–æ–≤ –∏–∑-–∑–∞ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –ø–∞–º—è—Ç–∏

**–†–µ—à–µ–Ω–∏–µ:** –í–Ω–µ–¥—Ä–µ–Ω–∞ –±–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

## üîß –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ö–û–î–ï

### 1. **config.py**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `BATCH_SIZE` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)

### 2. **copier.py** 
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `batch_size` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `copy_all_messages_batch()` - –æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_get_message_batches()` - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –±–∞—Ç—á–µ–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_process_message_batch()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞—Ç—á–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_cleanup_batch_memory()` - –æ—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏

### 3. **main.py**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ `batch_size` –≤ –∫–æ–ø–∏—Ä–æ–≤—â–∏–∫
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω –≤—ã–∑–æ–≤ –Ω–∞ `copy_all_messages_batch()` –≤–º–µ—Å—Ç–æ `copy_all_messages()`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–∞—Ç—á–∞—Ö

### 4. **.env.example**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `BATCH_SIZE=100`

## üéØ –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ - –±–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
```bash
python main.py
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –±–∞—Ç—á–∞
–î–æ–±–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª:
```env
BATCH_SIZE=100  # –î–ª—è –æ–±—ã—á–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
BATCH_SIZE=50   # –î–ª—è —Å–ª–∞–±—ã—Ö —Å–∏—Å—Ç–µ–º  
BATCH_SIZE=200  # –î–ª—è –º–æ—â–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
```

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢

| –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
|----------------|-------------------|
| ‚ùå –ü–∞–¥–∞–µ—Ç –ø–æ—Å–ª–µ 500-600 –ø–æ—Å—Ç–æ–≤ | ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ª—é–±—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º |
| ‚ùå –ü–∞–º—è—Ç—å —Ä–∞—Å—Ç–µ—Ç –¥–æ 2GB+ | ‚úÖ –ü–∞–º—è—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ ~20-50MB |
| ‚ùå –ù–∞—Ä—É—à–∞–µ—Ç—Å—è —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—è | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—è –≤—Å–µ–≥–¥–∞ |
| ‚ùå –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ | ‚úÖ –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞—è —Ä–∞–±–æ—Ç–∞ |

## üîÑ –û–ë–†–ê–¢–ù–ê–Ø –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨

- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã  
- ‚úÖ –ï—Å–ª–∏ –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ä—ã–π
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö breaking changes

## üéâ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã. –°–∫—Ä–∏–ø—Ç —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ —Å –∫–∞–Ω–∞–ª–∞–º–∏ –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º —Å –ø–∞–º—è—Ç—å—é!

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–π–º–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–∞.**